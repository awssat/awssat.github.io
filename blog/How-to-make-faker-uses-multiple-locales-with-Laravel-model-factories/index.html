<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>How to make faker uses multiple locales with Laravel model factories — Awssat </title>
<link rel="stylesheet" href="https://awssat.com/assets/build/css/app.css">
<link rel="home" href="https://awssat.com">
<link rel="icon" href="https://awssat.com/favicon.ico">
<link href="https://awssat.com/blog/feed.atom" type="application/atom+xml" rel="alternate" title="Awssat Atom Feed">
<meta property="og:title" content="How to make faker uses multiple locales with Laravel model factories">

<meta property="og:image" content="https://awssat.com/assets/images/covers/How-to-make-faker-uses-multiple-locales-with-Laravel-model-factories.png">
<meta property="twitter:image:src" content="https://awssat.com/assets/images/covers/How-to-make-faker-uses-multiple-locales-with-Laravel-model-factories.png">
<meta property="og:image:width" content="1128">
<meta property="og:image:height" content="600">

<meta property="og:url" content="https://awssat.com/blog/How-to-make-faker-uses-multiple-locales-with-Laravel-model-factories">
<meta property="og:type" content="article">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"NewsArticle","mainEntityOfPage":{"@type":"WebPage","@id":"https://awssat.com/blog/How-to-make-faker-uses-multiple-locales-with-Laravel-model-factories"},"headline":"How to make faker uses multiple locales with Laravel model factories","image":"https://awssat.com/assets/images/covers/How-to-make-faker-uses-multiple-locales-with-Laravel-model-factories.png","speakable":{"@type":"SpeakableSpecification","cssSelector":["#article-title","#article-body"]},"datePublished":"2022-05-04T00:00:00+00:00","dateModified":"2022-05-04T00:00:00+00:00","author":{"@type":"Person","name":"Abdulrahman"},"publisher":{"@type":"Organization","name":"Awssat","logo":{"@type":"ImageObject","url":"https://awssat.com/assets/images/logo.png"}}}</script>
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:widgets:new-embed-design" content="on">
<meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
</head>
<body class="mx-auto max-w-5xl px-0 md:px-4 container antialiased">
    <header x-data="{ open: false }"
        class="w-full flex justify-between flex-col md:flex-row font-bold text-gray-700">
        <div
            class="base-logo-box flex items-center px-3 py-2 md:flex-col md:justify-between md:rounded-b border border-t-0 shadow-sm w-full md:w-40 font-bold">
            <a href="https://awssat.com" class="flex items-center w-full text-lg">
                <img src="https://awssat.com/assets/images/logo.png" class="w-10 mr-2" alt="Awssat"
                    aria-roledescription="Logo of Awssat">
                Awssat
            </a>


            <div
                class="md:block flex items-center base-breadcrumbs rounded-lg px-3 md:mt-1 md:w-full md:text-center">
                <button @click="open = true" class="flex items-center md:hidden focus:outline-none"
                    aria-label="Website Menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" x-show="!open"
                        x-transition:enter="-skew-y-12"
                        class="transition duration-100 transform ease-in-out fill-current w-8 h-8">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" x-show="open"
                        x-transition:enter="skew-y-12"
                        class="transition duration-100 transform fill-current w-8 h-8">
                        <path d="M0 0h24v24H0V0z" fill="none" />
                        <path
                            d="M3 18h13v-2H3v2zm0-5h10v-2H3v2zm0-7v2h13V6H3zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5L21 15.59z" />
                    </svg>
                </button>
                                    <a class="w-full hidden md:block" href="https://awssat.com/blog">Blog</a>
                            </div>

        </div>

        <div class="md:ml-1">
            <nav role="navigation"  @click.away="open = false" :class="{ 'hidden': !open, 'flex': open }"
class="md:block justify-end relative z-20" >
<ul
    class="list-none shadow-sm border base-side-menu-ul rounded-sm inline-flex md:flex md:items-center absolute md:relative mt-2 mr-1 md:mr-0 md:flex-row flex-col md:justify-end w-auto md:w-full">

    <li class="ml-2  md:hidden ">
        <a href="https://awssat.com/blog"
            class="base-side-menu-li flex items-center py-2 pl-1 pr-3 md:pr-5 group">
            <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                class="w-6 h-6 fill-current group-hover:text-blue-400">
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                    d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z" />
            </svg>
            <span class="ml-2 font-bold md:text-lg group-hover:underline base-side-menu-li-text">Blog</span>
        </a>
    </li>

    <li class="ml-2 ">
        <a href="https://awssat.com/opensource"
            class="base-side-menu-li flex truncate items-center py-2 pl-1 pr-3 md:pr-5 group">
            <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"
                enable-background="new 0 0 24 24" viewBox="0 0 24 24"
                class="w-6 h-6 fill-current group-hover:text-yellow-700">
                <g>
                    <rect fill="none" height="24" width="24" />
                </g>
                <g>
                    <g />
                    <g>
                        <path
                            d="M12,3c-0.46,0-0.93,0.04-1.4,0.14C7.84,3.67,5.64,5.9,5.12,8.66c-0.48,2.61,0.48,5.01,2.22,6.56 C7.77,15.6,8,16.13,8,16.69V19c0,1.1,0.9,2,2,2h0.28c0.35,0.6,0.98,1,1.72,1s1.38-0.4,1.72-1H14c1.1,0,2-0.9,2-2v-2.31 c0-0.55,0.22-1.09,0.64-1.46C18.09,13.95,19,12.08,19,10C19,6.13,15.87,3,12,3z M14,17h-4v-1h4V17z M10,19v-1h4v1H10z M15.31,13.74c-0.09,0.08-0.16,0.18-0.24,0.26H8.92c-0.08-0.09-0.15-0.19-0.24-0.27c-1.32-1.18-1.91-2.94-1.59-4.7 c0.36-1.94,1.96-3.55,3.89-3.93C11.32,5.03,11.66,5,12,5c2.76,0,5,2.24,5,5C17,11.43,16.39,12.79,15.31,13.74z" />
                    </g>
                    <g>
                        <rect height="3" width="1" x="11.5" y="11" />
                        <rect height="3" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -4.0312 10.8536)" width="1"
                            x="10.59" y="8.79" />
                        <rect height="3" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 14.7678 26.7028)"
                            width="1" x="12.41" y="8.79" />
                    </g>
                </g>
            </svg>
            <span class="ml-2 font-bold md:text-lg group-hover:underline base-side-menu-li-text">Open Source</span>
        </a>
    </li>

    <li class="ml-2 ">
        <a href="https://awssat.com/projects "
            class="base-side-menu-li flex items-center py-2 pl-1 pr-3 md:pr-5 group">
            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24"
                class="w-6 h-6 fill-current  group-hover:text-orange-700">
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                    d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z" />
            </svg>
            <span class="ml-2 font-bold md:text-lg group-hover:underline base-side-menu-li-text">Projects</span>
        </a>
    </li>
        <li class=" lg:absolute lg:top-0 lg:left-0 lg:-ml-16 lg:mt-2  flex justify-center m-1"
        title="dark/light mode">
        <div class="relative inline-block w-12 select-none" x-cloak x-data="{ toggle: darkMode() }"
    @click.prevent="toggle = darkMode(! toggle)">
    <div :class="{'translate-x-full': toggle}"
        class="absolute z-10 border-gray-700 block w-6 h-6 rounded-full bg-white border-2 cursor-pointer transition duration-100 transform"></div>

    <div
        class="overflow-hidden bg-gray-800 h-6 w-full base-theme-toggle-pill rounded-full cursor-pointer flex justify-between items-center p-px">
        
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5  text-blue-300 fill-current" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="0" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5  text-yellow-400 fill-current" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path
                d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z" />
            </svg>
    </div>
    <input type="checkbox" class="hidden" aria-label="dark mode toggle">
</div>
    </li>
    </ul>
</nav>
        </div>
    </header>
    <main class="flex justify-between h-full mt-4">
    <div class="w-full mx-auto max-w-5xl flex flex-col p-4 md:p-0">
<article class="w-full flex flex-col relative pb-10 mt-10 break-normal base-post-container border-b">
    <h1 id="article-title"
        class="base-post-large-title text-2xl md:text-4xl lg:text-5x block font-black leading-relaxed my-5">How to make faker uses multiple locales with Laravel model factories</h1>

    <aside class="flex justify-between flex-col md:flex-row text-xs mb-5">
        <div class="flex items-center mb-2 md:mb-0 base-post-aside-date">
            <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"
                class="w-4 h-4 base-post-aside-icon fill-current mr-1" viewBox="0 0 24 24">
                <path d="M0 0h24v24H0z" fill="none" />
                <path
                    d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" />
                <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z" />
            </svg>
            Wed, May 4, 2022 12:00 AM
                    </div>

        <div class="flex items-center">
            <svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"
                class="w-4 h-4  base-post-aside-icon fill-current mr-1" viewBox="0 0 24 24">
                <path d="M0 0h24v24H0z" fill="none" />
                <path
                    d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z" />
            </svg>
                                                <a class="mx-1 base-tag base-tag-default base-tag-no-box flex items-center px-1 py-px leading-4"
                        href="https://awssat.com/blog/tag/php">
                                                php
                    </a>
                                    <a class="mx-1 base-tag base-tag-default base-tag-no-box flex items-center px-1 py-px leading-4"
                        href="https://awssat.com/blog/tag/laravel">
                                                laravel
                    </a>
                                    </div>
    </aside>

    <section id="article-body" class="lading-9 md:leading-10 font-sans text-lg md:text-xl base-post-body">

        <p>Laravel 8 introduced new model factories that are basically the same as before, but they are class-based and have some new additions.
<br>
Unfortunately, switching between different locales was not taken into account, and you have to define one locale in <code>config/app.php</code> using <code>faker_locale' every time you decide to test your app. &lt;br&gt; It would be great if the upcoming versions of Laravel included functions that run before making/creating models, next to</code>afterMaking<code>and</code>afterCreating`, or even better they could add something similar to Sequences but for switching between multiple locales.
<br>
Lately, I came across this dilemma, and I had to improvise; I'm still not happy with it, but it works and is the only solution we have right now.</p>

<pre><code>class DummyFactory extends Factory
{
  private $lang;

  public function definition()
  {
      $this-&gt;lang = ($langs = ['ar', 'en'])[array_rand($langs)];
      $this-&gt;faker = \Faker\Factory::create($this-&gt;lang == 'ar' ? 'ar_SA' : 'en_US');

      return [
            'language' =&gt; $this-&gt;lang,
            'title' =&gt; $this-&gt;faker-&gt;realTextBetween(40, 70),
            'content' =&gt; $this-&gt;faker-&gt;realTextBetween(500, 750),
          ];
   }
}
</code></pre>

<p><b>
And voilà, it works for now.</p>

    </section>


    <aside class="flex justify-between mt-4 text-sm">
        <div class="flex items-center">
            

        </div>
    

            
            <div class="base-post-author">
                                <span class="italic">By</span> <a href="http://twitter.com/aphpdev" class="font-bold"
                        target="_tab" rel="nofollow" title="external page of Abdulrahman">Abdulrahman</a>
                            </div>

            


      
    </aside>

    <hr>
    <div class="text-center py-4">
    <a target="_tab" rel="nofollow" class="font-bold text-sm text-gray-700" href="https://github.com/awssat/website/tree/master/source/_posts/How-to-make-faker-uses-multiple-locales-with-Laravel-model-factories.md">Improve this post on Github</a>
    </div>
</article>
</div>

    </main>
    
    <script src="https://awssat.com/assets/build/js/app.js"></script>
</body>
</html>
